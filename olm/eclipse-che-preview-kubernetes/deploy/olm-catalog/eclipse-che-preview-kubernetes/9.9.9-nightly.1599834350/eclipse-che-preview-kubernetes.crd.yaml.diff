--- /home/brq/lkrejci/go/src/github.com/eclipse/che-operator/olm/eclipse-che-preview-kubernetes/deploy/olm-catalog/eclipse-che-preview-kubernetes/9.9.9-nightly.1598898635/eclipse-che-preview-kubernetes.crd.yaml	2020-09-11 14:49:45.059897185 +0200
+++ /home/brq/lkrejci/go/src/github.com/eclipse/che-operator/olm/eclipse-che-preview-kubernetes/deploy/olm-catalog/eclipse-che-preview-kubernetes/9.9.9-nightly.1599834350/eclipse-che-preview-kubernetes.crd.yaml	2020-09-11 16:25:51.004230975 +0200
@@ -230,7 +230,10 @@
                   description: Strategy for ingress creation. This can be `multi-host`
                     (host is explicitly provided in ingress), `single-host` (host
                     is provided, path-based rules) and `default-host.*`(no host is
-                    provided, path-based rules). Defaults to `"multi-host`
+                    provided, path-based rules). Defaults to `"multi-host` Deprecated
+                    in favor of "serverExposureStrategy" in the "server" section,
+                    which defines this regardless of the cluster type. If both are
+                    defined, `serverExposureStrategy` takes precedence.
                   type: string
                 securityContextFsGroup:
                   description: FSGroup the Che pod and Workspace pods containers should
@@ -445,6 +448,18 @@
                     operator will automatically detect if router certificate is self-signed.
                     If so it will be propagated to Che server and some other components.
                   type: boolean
+                serverExposureStrategy:
+                  description: Sets the server and workspaces exposure type. Possible
+                    values are "multi-host", "single-host", "default-host". Defaults
+                    to "multi-host" which creates a separate ingress (or route on
+                    OpenShift) for every requied endpoint. "single-host" makes Che
+                    exposed on a single hostname with workspaces exposed on subpaths.
+                    Please read the docs to learn about the limitations of this approach.
+                    Also consult the `singleHostExposureType` property to further
+                    configure how the operator and Che server make that happen. "default-host"
+                    exposes che server on the host of the cluster. Please read the
+                    docs to learn about the limitations of this approach.
+                  type: string
                 serverMemoryLimit:
                   description: Overrides the memory limit used in the Che server deployment.
                     Defaults to 1Gi.
@@ -460,6 +475,32 @@
                     signed with self-signed cert. So, Che server must be aware of
                     its CA cert to be able to request it. This is disabled by default.
                   type: string
+                singleHostExposureType:
+                  description: When the serverExposureStrategy is set to "single-host",
+                    the way the server, registries and workspaces are exposed is further
+                    configured by this property. The possible values are "native"
+                    (which means that the server and workspaces are exposed using
+                    ingresses on K8s) or "gateway" where the server and workspaces
+                    are exposed using a custom gateway based on Traefik. All the endpoints
+                    whether backed by the ingress or gateway "route" always point
+                    to the subpaths on the same domain. "native" is only supported
+                    on Kubernetes, "gateway" is supported on both openshift and kubernetes.
+                    On OpenShift, this property defaults to "gateway". On Kubernetes,
+                    it defaults to "native".
+                  type: string
+                singleHostGatewayConfigMapLabels:
+                  additionalProperties:
+                    type: string
+                  description: The labels that need to be present (and are put) on
+                    the configmaps representing the gateway configuration.
+                  type: object
+                singleHostGatewayConfigSidecarImage:
+                  description: The image used for the gateway sidecar that provides
+                    configuration to the gateway.
+                  type: string
+                singleHostGatewayImage:
+                  description: The image used for the gateway in the single host mode.
+                  type: string
                 tlsSupport:
                   description: Deprecated. Instructs the operator to deploy Che in
                     TLS mode. This is enabled by default. Disabling TLS may cause
